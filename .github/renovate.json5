{
  extends: [
    // Same options as in "config:base", but without "group:monorepos" and
    // "group:recommended".
    ":separateMajorReleases",
    ":combinePatchMinorReleases",
    ":ignoreUnstable",
    ":prImmediately",
    ":semanticPrefixFixDepsChoreOthers",
    ":updateNotScheduled",
    ":automergeDisabled",
    ":ignoreModulesAndTests",
    ":autodetectPinVersions",
    ":prHourlyLimit2",
    ":prConcurrentLimit20",
    "helpers:disableTypesNodeMajor"
  ],
  packageRules: [
    {
      updateTypes: ["major", "minor", "patch", "digest"],
      automerge: true,
    },
    {
      // silverback-drupal-graphql-v3 requires some modules which are not yet
      // ported to Drupal 9. Avoid Drupal core update.
      paths: ["apps/silverback-drupal-graphql-v3/composer.json"],
      packageNames: [
        "drupal/core-recommended",
        "drupal/core-composer-scaffold",
        "drupal/core-project-message",
        "drupal/core",
        // Also, we need GraphQL module at version 3.
        "drupal/graphql",
      ],
      updateTypes: ["major"],
      enabled: false,
    }
  ],
  rangeStrategy: "replace",
  groupName: "all",
  // Regular updates go first.
  schedule: ["before 3am on monday"],
  // Lock File Maintenance goes next.
  //   Note: We keep the Lock File Maintenance separate from the updates.
  //   Because, if we merge them, the list of updated packages in the PR will be
  //   incomplete. (Renovate only reports packages which are defined in
  //   package.json/composer.json files. Dependencies of dependencies, which are
  //   stored in the lock files, are not listed.)
  lockFileMaintenance: {
    enabled: true,
    schedule: ["before 5am on monday"],
    branchPrefix: "test-all/renovate/",
    // TODO: if "test-all/" works well and all tests are executed in the
    //  lock-file-maintenance PR, add "automerge: true" here.
  },
}
